plugin: "netcho.opennebula.opennebula"
one_hostname_preference: name
strict: true
use_extra_vars: true
compose:
  network_id_domain_map:
    10: test
    11: dmz.storpool.local
    12: dhcp.vm.storpool.local
  ansible_host: nic[0].ip if nic[0].ip is defined else name + "." + network_id_domain_map[nic[0].network_id]
  running: state == 'active' and lcm_state == 'running'
groups:
  moonstone_monitor: 'user_attributes.labels is defined and "monitor" in user_attributes.labels'

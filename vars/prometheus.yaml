prometheus_storage_retention: 12h

prometheus_global:
  scrape_interval: 3s
  evaluation_interval: 15s

prometheus_remote_write:
  - name: VictoriaMetrics
    url: "{{ victoria_metrics_url }}"
    queue_config:
      max_samples_per_send: 10000
      capacity: 20000
      max_shards: 30

prometheus_scrape_configs: "{{ lookup('template', playbook_dir + '/prometheus/jobs.yaml') | from_yaml }}"

prometheus_alertmanager_config:
  - static_configs:
      - targets:
          - "{{ ansible_fqdn }}:{{ alertmanager_web_listen_port }}"

prometheus_alert_rules: []
prometheus_external_labels:
  grafana_url: "https://inframon.storpool.com"

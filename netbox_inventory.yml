plugin: netbox.netbox.nb_inventory
validate_certs: true
config_context: false
plurals: false
device_query_filters:
  - has_primary_ip: 'true'
interfaces: true
compose:
  snmp_mib: '"apcups" if device_type == "ap7723" else "if_mib"'
group_by:
  - site
groups:
  sof_baremetal: '(role == "server" or role == "router") and site == "3dc" and "omit-monitor" not in tags'
  sof_baremetal_deploy: '"monitor-autodeploy" in tags and site == "3dc"'
  office_baremetal: '(role == "server" or role == "router") and site == "office" and "omit-monitor" not in tags'
  office_baremetal_deploy: '"monitor-autodeploy" in tags and site == "office"'
  network_devices: '"switch" in role or role == "ap" or device_type == "ap7723"'
  routers: 'role == "router" and "omit-monitor" not in tags'

plugin: netbox.netbox.nb_inventory
validate_certs: true
config_context: false
plurals: false
device_query_filters:
  - has_primary_ip: "true"
interfaces: true
compose:
  snmp_mib: '"apcups" if device_type == "ap7723" or device_type == "ap7724" else "if_mib"'
group_by:
  - site
groups:
  baremetal: '(role == "server" or role == "router") and (site == "3dc" or site == "office") and "omit-monitor" not in tags'
  node_exporter_targets: '(role == "server" or role == "router") and (site == "3dc" or site == "office") and "omit-monitor" not in tags'
  deploy_node_exporter: '"monitor-autodeploy" in tags'
  network_devices: '"switch" in role or role == "ap"'
  power_devices: 'role == "pdu" or role == "ups"'
  routers: 'role == "router" and "omit-monitor" not in tags'
  daily_upgrades: '"autoupdate" in tags'
